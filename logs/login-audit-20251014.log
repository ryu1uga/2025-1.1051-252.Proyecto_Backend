2025-10-14 16:36:48 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2025-10-14 16:36:48 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-10-14 16:36:48 [INF] Creating key {3ae17017-2ef6-498b-9344-927de3445891} with creation date 2025-10-14 16:36:48Z, activation date 2025-10-14 16:36:48Z, and expiration date 2026-01-12 16:36:48Z.
2025-10-14 16:36:48 [WRN] No XML encryptor configured. Key {3ae17017-2ef6-498b-9344-927de3445891} may be persisted to storage in unencrypted form.
2025-10-14 16:36:48 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-3ae17017-2ef6-498b-9344-927de3445891.xml'.
2025-10-14 16:36:48 [WRN] Overriding address(es) 'http://0.0.0.0:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-10-14 16:36:48 [INF] Now listening on: http://[::]:80
2025-10-14 16:36:48 [INF] Application started. Press Ctrl+C to shut down.
2025-10-14 16:36:48 [INF] Hosting environment: Development
2025-10-14 16:36:48 [INF] Content root path: /app
2025-10-14 16:36:51 [INF] Request starting HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58
2025-10-14 16:36:51 [INF] CORS policy execution successful.
2025-10-14 16:36:51 [INF] Executing endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 16:36:51 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Loop.DTOs.Common.LoginRequestDTO) on controller Loop.Controller.UserController (Loop).
2025-10-14 16:36:51 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-10-14 16:36:52 [INF] Executed DbCommand (19ms) [Parameters=[@__loginDTO_Email_0='ryu1uga@gmail.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CodeExpirationDate", u."CodeRegisteredDate", u."CreatedAt", u."Email", u."Name", u."Password", u."RefreshToken", u."TokenExpirationDate", u."UpdatedAt", u."UserType", u."VerificationCode"
FROM "User" AS u
WHERE u."Email" = @__loginDTO_Email_0
LIMIT 2
2025-10-14 16:36:52 [INF] Login exitoso | Email: ryu1uga@gmail.com | IP: ::ffff:172.24.0.1 | UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 | Hora: "2025-10-14T16:36:52.2232834Z"
2025-10-14 16:36:52 [INF] Executed DbCommand (6ms) [Parameters=[@p2='35670f5c-b7a1-4987-b87b-d94016fc91ab', @p0='$2a$11$KTvkSlW0yccFODrwkoR6FesUm6pcXaySd8TtJxlC6pDIPBIt.dJfu', @p1='2025-10-21T16:36:52.3756101Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "RefreshToken" = @p0, "TokenExpirationDate" = @p1
WHERE "Id" = @p2;
2025-10-14 16:36:52 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType20`5[[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Loop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-14 16:36:52 [INF] Executed action Loop.Controller.UserController.LoginUser (Loop) in 1166.6193ms
2025-10-14 16:36:52 [INF] Executed endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 16:36:52 [INF] Request finished HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58 - 200 - application/json;+charset=utf-8 1293.1208ms
2025-10-14 16:36:56 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/index.html - -
2025-10-14 16:36:56 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/index.html - - - 200 - text/html;charset=utf-8 39.4615ms
2025-10-14 16:36:56 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/swagger/v1/swagger.json - -
2025-10-14 16:36:56 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.1427ms
2025-10-14 16:37:04 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - -
2025-10-14 16:37:04 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-14 16:37:04 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-14 16:37:04 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - - - 401 0 - 12.5474ms
2025-10-14 16:37:21 [INF] Request starting HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58
2025-10-14 16:37:21 [INF] CORS policy execution successful.
2025-10-14 16:37:21 [INF] Executing endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 16:37:21 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Loop.DTOs.Common.LoginRequestDTO) on controller Loop.Controller.UserController (Loop).
2025-10-14 16:37:21 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDTO_Email_0='ryu1uga@gmail.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CodeExpirationDate", u."CodeRegisteredDate", u."CreatedAt", u."Email", u."Name", u."Password", u."RefreshToken", u."TokenExpirationDate", u."UpdatedAt", u."UserType", u."VerificationCode"
FROM "User" AS u
WHERE u."Email" = @__loginDTO_Email_0
LIMIT 2
2025-10-14 16:37:21 [INF] Login exitoso | Email: ryu1uga@gmail.com | IP: ::ffff:172.24.0.1 | UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 | Hora: "2025-10-14T16:37:21.7684491Z"
2025-10-14 16:37:21 [INF] Executed DbCommand (3ms) [Parameters=[@p2='35670f5c-b7a1-4987-b87b-d94016fc91ab', @p0='$2a$11$ZV4fwPvAhabqs8N61nRMi.KQ0t2j02OgATQJh1vIuGWWLjE/ZWbLu', @p1='2025-10-21T16:37:21.8900074Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "RefreshToken" = @p0, "TokenExpirationDate" = @p1
WHERE "Id" = @p2;
2025-10-14 16:37:21 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType20`5[[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Loop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-14 16:37:21 [INF] Executed action Loop.Controller.UserController.LoginUser (Loop) in 270.4627ms
2025-10-14 16:37:21 [INF] Executed endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 16:37:21 [INF] Request finished HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58 - 200 - application/json;+charset=utf-8 278.8475ms
2025-10-14 16:37:32 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - -
2025-10-14 16:37:32 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-10-14 16:37:32 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-14 16:37:32 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-14 16:37:32 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - - - 401 0 - 8.0405ms
2025-10-14 16:37:35 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - -
2025-10-14 16:37:35 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-10-14 16:37:35 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-14 16:37:35 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-14 16:37:35 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - - - 401 0 - 3.8737ms
2025-10-14 16:38:39 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - -
2025-10-14 16:38:39 [INF] Executing endpoint 'Loop.Controller.UserController.GetAuditLogs (Loop)'
2025-10-14 16:38:39 [INF] Route matched with {action = "GetAuditLogs", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuditLogs() on controller Loop.Controller.UserController (Loop).
2025-10-14 16:38:39 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-14 16:38:39 [INF] Executed action Loop.Controller.UserController.GetAuditLogs (Loop) in 8.8634ms
2025-10-14 16:38:39 [INF] Executed endpoint 'Loop.Controller.UserController.GetAuditLogs (Loop)'
2025-10-14 16:38:39 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/api/User/audit-logs - - - 200 - application/json;+charset=utf-8 14.8646ms
2025-10-14 18:26:44 [INF] Application is shutting down...
2025-10-14 18:26:45 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2025-10-14 18:26:45 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-10-14 18:26:45 [INF] Creating key {0989c2a2-b5cf-419d-8497-b6c1153d7677} with creation date 2025-10-14 18:26:45Z, activation date 2025-10-14 18:26:45Z, and expiration date 2026-01-12 18:26:45Z.
2025-10-14 18:26:45 [WRN] No XML encryptor configured. Key {0989c2a2-b5cf-419d-8497-b6c1153d7677} may be persisted to storage in unencrypted form.
2025-10-14 18:26:45 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-0989c2a2-b5cf-419d-8497-b6c1153d7677.xml'.
2025-10-14 18:26:45 [WRN] Overriding address(es) 'http://0.0.0.0:80'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-10-14 18:26:45 [INF] Now listening on: http://[::]:80
2025-10-14 18:26:45 [INF] Application started. Press Ctrl+C to shut down.
2025-10-14 18:26:45 [INF] Hosting environment: Development
2025-10-14 18:26:45 [INF] Content root path: /app
2025-10-14 18:26:54 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/index.html - -
2025-10-14 18:26:54 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/index.html - - - 200 - text/html;charset=utf-8 94.2402ms
2025-10-14 18:26:54 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/swagger-ui.css - -
2025-10-14 18:26:54 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-14 18:26:54 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/swagger-ui.css - - - 200 143943 text/css 13.0525ms
2025-10-14 18:26:54 [INF] Request starting HTTP/1.1 GET http://192.168.49.173:8000/swagger/v1/swagger.json - -
2025-10-14 18:26:54 [INF] Request finished HTTP/1.1 GET http://192.168.49.173:8000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 89.9123ms
2025-10-14 18:27:13 [INF] Request starting HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58
2025-10-14 18:27:13 [INF] CORS policy execution successful.
2025-10-14 18:27:13 [INF] Executing endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 18:27:13 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Loop.DTOs.Common.LoginRequestDTO) on controller Loop.Controller.UserController (Loop).
2025-10-14 18:27:13 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-10-14 18:27:13 [INF] Executed DbCommand (18ms) [Parameters=[@__loginDTO_Email_0='ryu1uga@gmail.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CodeExpirationDate", u."CodeRegisteredDate", u."CreatedAt", u."Email", u."Name", u."Password", u."RefreshToken", u."TokenExpirationDate", u."UpdatedAt", u."UserType", u."VerificationCode"
FROM "User" AS u
WHERE u."Email" = @__loginDTO_Email_0
LIMIT 2
2025-10-14 18:27:14 [INF] Login exitoso (pendiente de MFA) | Email: ryu1uga@gmail.com | IP: ::ffff:172.24.0.1 | UserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 | Hora: "2025-10-14T18:27:14.0206625Z"
2025-10-14 18:27:14 [INF] Executed DbCommand (9ms) [Parameters=[@p11='35670f5c-b7a1-4987-b87b-d94016fc91ab', @p0='2025-10-14T18:32:14.0232327Z' (Nullable = true) (DbType = DateTime), @p1='2025-10-14T18:27:14.0231810Z' (Nullable = true) (DbType = DateTime), @p2='2025-10-14T16:13:34.7047720Z' (DbType = DateTime), @p3='ryu1uga@gmail.com' (Nullable = false), @p4='Ryuichi' (Nullable = false), @p5='$2a$11$m0U2bJZrSPIs3B0b0AWZOueGzo4ptDEjWAgS4RuT6tQcmSCYXc4vm' (Nullable = false), @p6='$2a$11$ZV4fwPvAhabqs8N61nRMi.KQ0t2j02OgATQJh1vIuGWWLjE/ZWbLu', @p7='2025-10-21T16:37:21.8900070Z' (Nullable = true) (DbType = DateTime), @p8='2025-10-14T16:13:34.7047920Z' (DbType = DateTime), @p9='0', @p10='4292' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "CodeExpirationDate" = @p0, "CodeRegisteredDate" = @p1, "CreatedAt" = @p2, "Email" = @p3, "Name" = @p4, "Password" = @p5, "RefreshToken" = @p6, "TokenExpirationDate" = @p7, "UpdatedAt" = @p8, "UserType" = @p9, "VerificationCode" = @p10
WHERE "Id" = @p11;
2025-10-14 18:27:15 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType20`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Loop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-14 18:27:15 [INF] Executed action Loop.Controller.UserController.LoginUser (Loop) in 2448.7849ms
2025-10-14 18:27:15 [INF] Executed endpoint 'Loop.Controller.UserController.LoginUser (Loop)'
2025-10-14 18:27:15 [INF] Request finished HTTP/1.1 POST http://192.168.49.173:8000/api/User/login application/json 58 - 200 - application/json;+charset=utf-8 2493.9300ms
2025-10-14 18:27:46 [INF] Request starting HTTP/1.1 POST http://192.168.49.173:8000/api/User/mfa-verify application/json 50
2025-10-14 18:27:46 [INF] CORS policy execution successful.
2025-10-14 18:27:46 [INF] Executing endpoint 'Loop.Controller.UserController.VerifyMfaCode (Loop)'
2025-10-14 18:27:46 [INF] Route matched with {action = "VerifyMfaCode", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyMfaCode(Loop.DTOs.Common.EmailVerificationDTO) on controller Loop.Controller.UserController (Loop).
2025-10-14 18:27:46 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='ryu1uga@gmail.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CodeExpirationDate", u."CodeRegisteredDate", u."CreatedAt", u."Email", u."Name", u."Password", u."RefreshToken", u."TokenExpirationDate", u."UpdatedAt", u."UserType", u."VerificationCode"
FROM "User" AS u
WHERE u."Email" = @__dto_Email_0
LIMIT 1
2025-10-14 18:27:46 [INF] Executed DbCommand (4ms) [Parameters=[@p11='35670f5c-b7a1-4987-b87b-d94016fc91ab', @p0=NULL (DbType = DateTime), @p1=NULL (DbType = DateTime), @p2='2025-10-14T16:13:34.7047720Z' (DbType = DateTime), @p3='ryu1uga@gmail.com' (Nullable = false), @p4='Ryuichi' (Nullable = false), @p5='$2a$11$m0U2bJZrSPIs3B0b0AWZOueGzo4ptDEjWAgS4RuT6tQcmSCYXc4vm' (Nullable = false), @p6='$2a$11$2zzsp//xAcnz/PwhWkX7vuiYykwcg4sSWu5ZidBeiVwJTvkqwSVri', @p7='2025-10-21T18:27:46.9111185Z' (Nullable = true) (DbType = DateTime), @p8='2025-10-14T16:13:34.7047920Z' (DbType = DateTime), @p9='0', @p10=NULL (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "CodeExpirationDate" = @p0, "CodeRegisteredDate" = @p1, "CreatedAt" = @p2, "Email" = @p3, "Name" = @p4, "Password" = @p5, "RefreshToken" = @p6, "TokenExpirationDate" = @p7, "UpdatedAt" = @p8, "UserType" = @p9, "VerificationCode" = @p10
WHERE "Id" = @p11;
2025-10-14 18:27:46 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Loop, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-14 18:27:46 [INF] Executed action Loop.Controller.UserController.VerifyMfaCode (Loop) in 230.529ms
2025-10-14 18:27:46 [INF] Executed endpoint 'Loop.Controller.UserController.VerifyMfaCode (Loop)'
2025-10-14 18:27:46 [INF] Request finished HTTP/1.1 POST http://192.168.49.173:8000/api/User/mfa-verify application/json 50 - 200 - application/json;+charset=utf-8 280.0826ms
